# Парсер для девайсов СДК через Selenium, Beautifulsoup4

Библиотеки:
[Selenium](https://pypi.org/project/selenium/)
[beautifulsoup4](https://pypi.org/project/beautifulsoup4/)
[Geckodriver](https://github.com/mozilla/geckodriver/)
[CustomTkinter](https://customtkinter.tomschimansky.com)

## Описание main.py

### Основной парсер
Основной вызов программы, описаны основные циклы.
Первым циклом идет онлайн парсинг через селениум, внутри цикла так же сохраняется массив со страницами девайсов из RCU json словаря.
Происходит формирование массива ячеек --> **cells = []**.

Так же идет добавление данных в таблицу **db.inserToDB()**: в функцию сохранения в базу данных передается "массив данных со страницы"  --> **data = []** (не сама страница) и массив ячеек --> **cels = []**

### Парсер для РРА (оффлайн)

Парсер РРА работает с сохаренными страницами в **page_array = []** в devices.json словаре RCU_RRA надо так же добавить значение в **array_pos** (значение равно позиции в словаре RCU).

### Дополнительный парсер (оффлайн)

Дополнительный парсер работает для сохраненных оффлайн страниц принцип работы такой-же как у парсера для РРА. 

## Описание ui.py

### Интерфейс программы
Описан основной интерфейс программы. Использованует .

## Описание dbservice.py

### интерфейс для работы с бд
Бд представлена таблицей Exel. В файле описаны интерфейсы для обращения к БД и внесению в нее данных.

### Описание device.json
divice.json хранит в себе список объектов и их параметров для опроса и имеет три списка.

#### Массив RCU
Массив RCU - это массив для онлайн опроса, объекты имеют ключи:
    ```
    "URL_address" :string - адресс до устройства 
    "login" :str - логин
    "password" :str - логин
    "tag" :str - тэг для поиска, 
    "cells" :list[str] - список столбцов в таблице
    "index_data" list:[int], 
    "sheet" :str - страница внутри таблицы Exel
    ```

#### Массив RCU_RRA
Массив RCU_RRA - это массив для оффлайн опроса дополнительных
параметров радио-росии имеет ключи:
```
    "URL_address":"http://192.168.1.1", 
    "login":"admin", "password":"admin", "tag": "titan", 
    "cells": ["A", "A", "A"], 
    "index_data": [1,2,3], 
    "sheet":"Текущий",
    "array_pos": 5, 
    "mod_index": 70 , 
    "mod_cell": ["A"] 
```

#### Массив RCU_ADDIT 
Массив RCU_ADDIT - это массив для оффлайн опроса дополнительных параметров
объектов, сохранных в page_array()